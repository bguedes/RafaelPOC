g.V().as('commonTag').inE('hasTag').as('  UNNAMED18').outV().as('friendPost').hasLabel('post').outE('hasTag').as('  UNNAMED48').inV().hasLabel('tag').has('name', eq(tagName)).where(__.select('  UNNAMED18').where(neq('  UNNAMED48'))).select('commonTag', 'friendPost').project('commonTag', 'friendPost').by(__.select('commonTag')).by(__.select('friendPost')).as('  GENERATED3').select('commonTag').as('commonTag').select('  GENERATED3').select('friendPost').as('friendPost').is(neq('  cypher.null')).outE('hasCreator').inV().as('friend').emit(__.loops().is(gte(1))).repeat(__.bothE('KNOWS').dedup().by(__.path()).as('  UNNAMED157').otherV()).times(2).simplePath().from('friend').as('person').hasLabel('person').has('id', eq(personId)).where(__.select('friend').where(neq('person'))).optional(__.select(all, '  UNNAMED157').as('  UNNAMED157')).select('commonTag', 'friendPost').group().by(__.select('commonTag').choose(__.values('name'), __.values('name'), __.constant('  cypher.null'))).by(__.fold().project('tagName', 'postCount').by(__.unfold().select('commonTag').choose(neq('  cypher.null'), __.choose(__.values('name'), __.values('name'), __.constant('  cypher.null')))).by(__.unfold().select('friendPost').dedup().is(neq('  cypher.null')).count())).unfold().select(values).order().by(__.select('postCount'), desc).by(__.select('tagName'), asc).limit(10)