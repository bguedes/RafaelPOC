g.V().as('message').hasLabel('post', 'comment').has('creationDate', lt(date)).is(neq('  cypher.null')).count().as('totalMessageCount').V().as('message').hasLabel('post', 'comment').has('creationDate', lt(date)).where(__.select('message').has('content')).select('totalMessageCount', 'message').project('totalMessageCount', 'message', 'year').by(__.select('totalMessageCount')).by(__.select('message')).by(__.constant(10000000000000).as('__GENERATED3').select('message').choose(neq('  cypher.null'), __.choose(__.values('creationDate'), __.values('creationDate'), __.constant('  cypher.null'))).choose(__.or(__.is(eq('  cypher.null')), __.select('__GENERATED3').is(eq('  cypher.null'))), __.constant('  cypher.null'), __.math('_ / __GENERATED3'))).as('  GENERATED4').select('totalMessageCount').as('totalMessageCount').select('  GENERATED4').select('message').as('message').hasLabel('comment').select('  GENERATED4').select('year').as('year').select('totalMessageCount', 'year', 'message').group().by(__.project('totalMessageCount', 'year', 'isComment', 'lengthCategory').by(__.select('totalMessageCount')).by(__.select('year')).by(__.select('message').choose(neq('  cypher.null'), __.choose(__.hasLabel('comment'), __.constant(true), __.constant(false)))).by(__.choose(__.constant(40).as('  GENERATED7').select('message').choose(neq('  cypher.null'), __.choose(__.values('length'), __.values('length'), __.constant('  cypher.null'))).choose(__.or(__.is(eq('  cypher.null')), __.select('  GENERATED7').is(eq('  cypher.null'))), __.constant('  cypher.null'), __.choose(__.where(lt('  GENERATED7')), __.constant(true), __.constant(false))).is(eq(true)), __.constant(0), __.choose(__.constant(80).as('  GENERATED6').select('message').choose(neq('  cypher.null'), __.choose(__.values('length'), __.values('length'), __.constant('  cypher.null'))).choose(__.or(__.is(eq('  cypher.null')), __.select('  GENERATED6').is(eq('  cypher.null'))), __.constant('  cypher.null'), __.choose(__.where(lt('  GENERATED6')), __.constant(true), __.constant(false))).is(eq(true)), __.constant(1), __.choose(__.constant(160).as('  GENERATED5').select('message').choose(neq('  cypher.null'), __.choose(__.values('length'), __.values('length'), __.constant('  cypher.null'))).choose(__.or(__.is(eq('  cypher.null')), __.select('  GENERATED5').is(eq('  cypher.null'))), __.constant('  cypher.null'), __.choose(__.where(lt('  GENERATED5')), __.constant(true), __.constant(false))).is(eq(true)), __.constant(2), __.constant(3)))))).by(__.fold().project('totalMessageCount', 'year', 'isComment', 'lengthCategory', 'messageCount', 'averageMessageLength', 'sumMessageLength').by(__.unfold().select('totalMessageCount')).by(__.unfold().select('year')).by(__.unfold().select('message').choose(neq('  cypher.null'), __.choose(__.hasLabel('Comment'), __.constant(true), __.constant(false)))).by(__.unfold().choose(__.constant(40).as('  GENERATED7').select('message').choose(neq('  cypher.null'), __.choose(__.values('length'), __.values('length'), __.constant('  cypher.null'))).choose(__.or(__.is(eq('  cypher.null')), __.select('  GENERATED7').is(eq('  cypher.null'))), __.constant('  cypher.null'), __.choose(__.where(lt('  GENERATED7')), __.constant(true), __.constant(false))).is(eq(true)), __.constant(0), __.choose(__.constant(80).as('  GENERATED6').select('message').choose(neq('  cypher.null'), __.choose(__.values('length'), __.values('length'), __.constant('  cypher.null'))).choose(__.or(__.is(eq('  cypher.null')), __.select('  GENERATED6').is(eq('  cypher.null'))), __.constant('  cypher.null'), __.choose(__.where(lt('  GENERATED6')), __.constant(true), __.constant(false))).is(eq(true)), __.constant(1), __.choose(__.constant(160).as('  GENERATED5').select('message').choose(neq('  cypher.null'), __.choose(__.values('length'), __.values('length'), __.constant('  cypher.null'))).choose(__.or(__.is(eq('  cypher.null')), __.select('  GENERATED5').is(eq('  cypher.null'))), __.constant('  cypher.null'), __.choose(__.where(lt('  GENERATED5')), __.constant(true), __.constant(false))).is(eq(true)), __.constant(2), __.constant(3))))).by(__.unfold().select('message').is(neq('  cypher.null')).count()).by(__.unfold().select('message').choose(neq('  cypher.null'), __.choose(__.values('length'), __.values('length'), __.constant('  cypher.null'))).is(neq('  cypher.null')).fold().coalesce(__.mean(local), __.constant('  cypher.null'))).by(__.unfold().select('message').choose(neq('  cypher.null'), __.choose(__.values('length'), __.values('length'), __.constant('  cypher.null'))).is(neq('  cypher.null')).fold().coalesce(__.sum(local), __.constant('  cypher.null')))).unfold().select(values).as('  GENERATED8').select('totalMessageCount').as('totalMessageCount').select('  GENERATED8').select('year').as('year').select('  GENERATED8').select('isComment').as('isComment').select('  GENERATED8').select('lengthCategory').as('lengthCategory').select('  GENERATED8').select('messageCount').as('messageCount').select('  GENERATED8').select('averageMessageLength').as('averageMessageLength').select('  GENERATED8').select('sumMessageLength').as('sumMessageLength').select('year', 'isComment', 'lengthCategory', 'messageCount', 'averageMessageLength', 'sumMessageLength', 'totalMessageCount').project('year', 'isComment', 'lengthCategory', 'messageCount', 'averageMessageLength', 'sumMessageLength', 'percentageOfMessages').by(__.select('year')).by(__.select('isComment')).by(__.select('lengthCategory')).by(__.select('messageCount')).by(__.select('averageMessageLength')).by(__.select('sumMessageLength')).by(__.select('totalMessageCount').as('__GENERATED9').select('messageCount').choose(__.or(__.is(eq('  cypher.null')), __.select('__GENERATED9').is(eq('  cypher.null'))), __.constant('  cypher.null'), __.math('_ / __GENERATED9'))).order().by(__.select('year'), desc).by(__.select('isComment'), asc).by(__.select('lengthCategory'), asc)