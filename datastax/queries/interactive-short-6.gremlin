g.V().hasLabel('post', 'comment').has('id', eq(messageId)).emit(__.loops().is(gte(0))).repeat(__.outE('replyOf').as('  UNNAMED25').inV()).times(10).hasLabel('post').inE('containerOf').outV().as('f').hasLabel('forum').outE('hasModerator').inV().as('mod').hasLabel('person').optional(__.select(all, '  UNNAMED25').as('  UNNAMED25')).select('f', 'mod').project('forumId', 'forumTitle', 'moderatorId', 'moderatorFirstName', 'moderatorLastName').by(__.select('f').choose(__.values('id'), __.values('id'), __.constant('  cypher.null'))).by(__.select('f').choose(neq('  cypher.null'), __.choose(__.values('title'), __.values('title'), __.constant('  cypher.null')))).by(__.select('mod').choose(neq('  cypher.null'), __.choose(__.values('id'), __.values('id'), __.constant('  cypher.null')))).by(__.select('mod').choose(neq('  cypher.null'), __.choose(__.values('firstName'), __.values('firstName'), __.constant('  cypher.null')))).by(__.select('mod').choose(neq('  cypher.null'), __.choose(__.values('lastName'), __.values('lastName'), __.constant('  cypher.null'))))