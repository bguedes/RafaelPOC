g.V().as('m').hasLabel('post', 'comment').has('id', eq(messageId)).inE('replyOf').outV().as('c').hasLabel('comment').outE('hasCreator').inV().as('p').hasLabel('person').choose(__.select('m').outE('hasCreator').inV().hasLabel('person').bothE('knows').dedup().by(__.path()).as('r').otherV().as('  GENERATED8').where(__.select('  GENERATED8').where(eq('p'))), __.select('m').outE('hasCreator').inV().hasLabel('person').bothE('knows').dedup().by(__.path()).as('r').otherV().as('  GENERATED8').where(__.select('  GENERATED8').where(eq('p'))), __.constant('  cypher.null').as('r')).select('c', 'p', 'r').project('commentId', 'commentContent', 'commentCreationDate', 'replyAuthorId', 'replyAuthorFirstName', 'replyAuthorLastName', 'replyAuthorKnowsOriginalMessageAuthor').by(__.select('c').choose(neq('  cypher.null'), __.choose(__.values('id'), __.values('id'), __.constant('  cypher.null')))).by(__.select('c').choose(neq('  cypher.null'), __.choose(__.values('content'), __.values('content'), __.constant('  cypher.null')))).by(__.select('c').choose(neq('  cypher.null'), __.choose(__.values('creationDate'), __.values('creationDate'), __.constant('  cypher.null')))).by(__.select('p').choose(neq('  cypher.null'), __.choose(__.values('id'), __.values('id'), __.constant('  cypher.null')))).by(__.select('p').choose(neq('  cypher.null'), __.choose(__.values('firstName'), __.values('firstName'), __.constant('  cypher.null')))).by(__.select('p').choose(neq('  cypher.null'), __.choose(__.values('lastName'), __.values('lastName'), __.constant('  cypher.null')))).by(__.choose(__.select('r')).option('  cypher.null', __.constant(false)).option(none, __.constant(true))).order().by(__.select('commentCreationDate'), desc).by(__.select('replyAuthorId'), asc)