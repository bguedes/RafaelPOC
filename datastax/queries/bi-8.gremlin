g.V().as('tag').hasLabel('tag').has('name', eq(tag)).inE('hasTag').as('  UNNAMED31').outV().hasLabel('post', 'comment').is(neq('  cypher.null')).inE('replyOf').outV().as('comment').hasLabel('comment').outE('hasTag').as('  UNNAMED103').inV().as('relatedTag').hasLabel('tag').where(__.and(__.not(__.select('comment').is(neq('  cypher.null')).outE('hasTag').inV().as('  GENERATED8').where(__.select('  GENERATED8').where(eq('tag')))), __.select('  UNNAMED103').where(neq('  UNNAMED31')))).select('relatedTag', 'comment').group().by(__.select('relatedTag').choose(__.values('name'), __.values('name'), __.constant('  cypher.null'))).by(__.fold().project('relatedTag.name', 'count').by(__.unfold().select('relatedTag').choose(neq('  cypher.null'), __.choose(__.values('name'), __.values('name'), __.constant('  cypher.null')))).by(__.unfold().select('comment').dedup().is(neq('  cypher.null')).count())).unfold().select(values).order().by(__.select('count'), desc).by(__.select('relatedTag.name'), asc).limit(100)